<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>TODO list for the potmax package • potomax</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="TODO list for the potmax package"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">potomax</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Intro.html">R Package potomax: Overview</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/IRSN/potomax/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>TODO list for the potmax package</h1>
      <small class="dont-index">Source: <a href="https://github.com/IRSN/potomax/blob/HEAD/TODO.md" class="external-link"><code>TODO.md</code></a></small>
    </div>

<div id="todo-list-for-the-potmax-package" class="section level1">

<div class="section level2">
<h2 id="improvements-in-the-existing-functions-and-doc">Improvements in the existing functions and doc<a class="anchor" aria-label="anchor" href="#improvements-in-the-existing-functions-and-doc"></a></h2>
<ul><li><p>Implement the <code>scale = TRUE</code> possibility in <code>poisGP</code>. This needs some care because the log-likelhood will depend on the scale and is used in several functions or method, not just by the creator <code>poisGP</code>.</p></li>
<li><p><strong>[X]</strong> Write or improve the <code>summary</code> and <code>print</code> methods for the <code>"poisGP"</code> and <code>"potData"</code> classes.</p></li>
<li><p><strong>[X]</strong> Warn about AIC and BIC. In the general context of heterogeneous data, the concept of <em>number of observations</em> can be misleading, because a single “MAX” observation can have more weight than dozens of other observations. So the AIC and BIC criterion should not be used when there is some historical information. A possible solution is setting the number of observation to <code>NA</code> when there is some historical information.</p></li>
<li><p><strong>[X]</strong> Improve the <em>exchanges between the class <code>"potData"</code> and the class <code>"Rendata"</code></em> of <strong>Renext</strong>. We should be able to simulate data, which is very useful for testing.</p></li>
<li><p>Improve the <em>management of the constraints</em>. For now the initial values are in general not compliant with the constraints. If for instance a constraint shape &gt; 0.1 is imposed the initial value could be modified to be compliant with the constaints.</p></li>
</ul></div>
<div class="section level2">
<h2 id="new-functions-or-methods">New functions or methods<a class="anchor" aria-label="anchor" href="#new-functions-or-methods"></a></h2>
<ul><li><p>Write functions for the classical diagnostics in <em>threshold choice</em>. These should include the trace of the estimated shape for a varying threshold, along with (profile-likelihood) confidence intervals.</p></li>
<li><p>Define <em>generalised residuals</em> for the context. Note that these should not necessarily be attached to the observations because an OTS block with no observation deserves a residual and can have a huge weight in the estimation. So some theoretical work is required here.</p></li>
</ul></div>
<div class="section level2">
<h2 id="changes-in-the-classes-and-creator-functions">Changes in the classes and creator functions<a class="anchor" aria-label="anchor" href="#changes-in-the-classes-and-creator-functions"></a></h2>
<ul><li><p>Enhance the <code>potData</code> S3 class by allowing it to contain <em>optional</em> information about time and events. For each block there could be a start and an end indication leading to two vectors <code>start</code> and <code>end</code> for each of the three parts <code>"OT"</code>, <code>"MAX"</code> and <code>"OTS"</code>. Similarly there could be vectors of class <code>"Date"</code> or <code>"POSIXct"</code> giving the time at which the events occurred. This would allow a time plot for the data as implemented by <code>plot.Rendata</code> in <strong>Renext</strong>. A <code>simulate</code> method could also be implemented for the class.</p></li>
<li><p><strong>[X]</strong> Consistently with <strong>Renext</strong>, allow the <code>data</code> argument of <code>poisGP</code> to be of class <code>"potData"</code>, implying that the other arguments <code>MAX*</code> and <code>OTS*</code> are left missing as well as <code>effDuration</code>.</p></li>
</ul></div>
<div class="section level2">
<h2 id="data-and-examples">Data and examples<a class="anchor" aria-label="anchor" href="#data-and-examples"></a></h2>
<ul><li>Attach to the package several datasets in <code>potData</code> format: <code>Garonne</code>, <code>venice</code>, and more. It would be fun to have data for the Potomac river:)</li>
</ul></div>
<div class="section level2">
<h2 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a></h2>
<ul><li><p>Write the log-likelihood functions in C in order to make faster the functions/methods using profile-likelihood such as <code>confint</code> and <code>RL</code>.</p></li>
<li><p><strong>[X]</strong> Re-factor the <code>Ren2gev</code> function of <strong>Renext</strong> into a C function of <strong>potomax</strong> accepting vectors for the Poisson-GP parameters <code>lambda</code>, <code>scale</code> and <code>shape</code> as well as for the block duration <code>w</code> and returning a matrix of GEV or <code>"PP"</code> parameters with a suitable number of rows. This function would be useful in a Bayesian framework where the transformation sometimes has to be made on a full sequence of MCMC iterates, the number of rows being then typically of several thousands.</p></li>
<li><p><strong>[X]</strong> Write a C function making the transformation inverse to <code>poisGP2PP</code>, namely: take a vector of PP parameters, a block duration <code>w</code> and a threshold and transform these data into a vector of Poisson-GP parameters.</p></li>
<li><p>In the probability functions *GPD2 and in the transformation of Poisson-GP parameters to PP, it is assumed that the parameters in the vectors are all different. However if the shape turns out to be constant some of the computations involving the shape are done repeatedly. These could be avoided by testing for <code>i &gt; 0</code> whether <code>iShape</code> is zero before computing.</p></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Yves Deville.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

