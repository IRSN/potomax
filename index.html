<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Estimation and inference for standard Peak Over Threshold
    (POT) models using heterogeneous data. The results can be
    formulated in relation either with the Poisson-GP or with the
    Point-Process formulation. The classical block maxima and
    r-largest frameworks can be coped with, and moreover the data can
    in both cases be censored by discarding the observations below a
    chosen threshold.">
<title>Peaks Over Threshold and/or Block Maxima • potomax</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Peaks Over Threshold and/or Block Maxima">
<meta property="og:description" content="Estimation and inference for standard Peak Over Threshold
    (POT) models using heterogeneous data. The results can be
    formulated in relation either with the Poisson-GP or with the
    Point-Process formulation. The classical block maxima and
    r-largest frameworks can be coped with, and moreover the data can
    in both cases be censored by discarding the observations below a
    chosen threshold.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">potomax</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Intro.html">R Package potomax: Overview</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/IRSN/potomax/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="potomax-readme">potomax README<a class="anchor" aria-label="anchor" href="#potomax-readme"></a>
</h1></div>
<p>Yves Deville</p>
<p><img src="inst/images/potomax.png" height="200" align="center"></p>
<!-- README.md is generated from README.Rmd. Please edit that file -->
</div>
<div class="section level1">
<h1 id="r-package-potomax">R package potomax<a class="anchor" aria-label="anchor" href="#r-package-potomax"></a>
</h1>
<p><strong>potomax</strong> is a R package financed by IRSN Behrig.</p>
<p><strong>potomax</strong> is devoted to Extreme Value analysis and merges the two classical approaches <em>POT</em> (Peaks Over Threshold) and <em>block MAXima</em>. In both cases we may consider that the observations are related in some way to a <em>Poisson-GP marked process</em> i.e., a marked Poisson process with the marks following the Generalised Pareto (GP) distribution. While this framework is classical for POT, it is also convenient for block maxima with arbitrary block durations. This approach allows to censor the block maxima that are too small to be considered as extreme, as is often needed for one-year blocks. It also allows to cope with heterogeneous data as met when using historical information.</p>
<p>For the standard case where the excesses follow the two-parameter GP distribution, the model include the three parameters <span class="math inline"><em>λ</em></span> (rate of the Poisson process for the exceedances over the threshold <span class="math inline"><em>u</em></span>), and the two GP parameters <span class="math inline"><em>σ</em></span> (scale) and <span class="math inline"><em>ξ</em></span> (shape). The vector of parameters <span class="math inline"><strong>θ</strong> = [<em>λ</em>, <em>σ</em>, <em>ξ</em>]<sup>⊤</sup></span> can be transformed into the vector <span class="math inline"><strong>θ</strong><sup>⋆</sup> = [<em>μ</em><sup>⋆</sup>, <em>σ</em><sup>⋆</sup>, <em>ξ</em><sup>⋆</sup>]<sup>⊤</sup></span> of so-called “Poisson-Process” (PP) parameters that describe the GEV distribution of the maximum on a block with a fixed reference duration <span class="math inline"><em>w</em><sup>⋆</sup></span>, usually taken as one year. The PP parameters do not depend on the threshold <span class="math inline"><em>u</em></span> but they depend on <span class="math inline"><em>w</em><sup>⋆</sup></span>. The Poisson-GP parameters do not depend on <span class="math inline"><em>w</em><sup>⋆</sup></span> but depend on the threshold <span class="math inline"><em>u</em></span>. The shape parameters <span class="math inline"><em>ξ</em></span> and <span class="math inline"><em>ξ</em><sup>⋆</sup></span> are identical in the two parameterisations. It is often simpler to use the Poisson-GP parameterisation because the rate <span class="math inline"><em>λ</em></span> can be concentrated out of the likelihood.</p>
<p>While the Poisson-GP formulation was already implemented in the <strong>Renext</strong> package, <strong>potomax</strong> puts emphasis on the use of <em>profile-likelihood</em> inference rather than on the cheapest widespread <em>delta method</em> that is used in <strong>Renext</strong>. The profile-likelihood confidence intervals on the parameters and return levels are known to have better coverage rate than those based on the delta method. However the profile-likelihood inference requires to repeatedly solve optimisation problems, with possible numerical issues. The derivatives of the distribution functions w.r.t the parameters are provided to facilitate the optimisation tasks. Graphical diagnostics are available to check that the profile-likelihood results are correct.</p>
<p>The package provides classical S3 methods for fitted models such as <code>summary</code>, <code>coef</code>, <code>logLik</code>, <code>confint</code>, … It also provides the methods <code>RL</code> to compute Return Levels and their confidence intervals, and <code>autoplot</code> method to produce “RL plots”.</p>
</div>
<div class="section level1">
<h1 id="news">News<a class="anchor" aria-label="anchor" href="#news"></a>
</h1>
<p>See the file <a href="NEWS.html">NEWS.md</a>.</p>
</div>
<div class="section level1">
<h1 id="install-release-version-from-github">Install release version from GitHub<a class="anchor" aria-label="anchor" href="#install-release-version-from-github"></a>
</h1>
<div class="section level2">
<h2 id="using-the-remotes-package">Using the <em>remotes</em> package<a class="anchor" aria-label="anchor" href="#using-the-remotes-package"></a>
</h2>
<p>For potomax versions &gt;= 0.2.3, in an R session simply use</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"IRSN/potomax"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>This should install the package and make it ready to use.</p>
<p>Note that the package comes with a <em>vignette</em> which by default will not be built/installed. So it may be prefreable to use</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"IRSN/potomax"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>and a the package help will then give a link to the (html) vignette <em>R Package potomax: Overview</em>.</p>
<p>You can also select a specific branch or a specific commit by using the suitable syntax for <code>install_github</code>, see the <strong>devtools</strong> package documentation. Mind that earlier versions contain compiled code hence will require for Windows users that the Rtools have been installed.</p>
</div>
<div class="section level2">
<h2 id="clone-build-and-install">Clone, build and install<a class="anchor" aria-label="anchor" href="#clone-build-and-install"></a>
</h2>
<div class="section level3">
<h3 id="cloning-the-repository">Cloning the repository<a class="anchor" aria-label="anchor" href="#cloning-the-repository"></a>
</h3>
<p>If you do not have yet a local <code>potomax</code> repository, use <code>git clone</code> to clone the <code>potomax</code> repository</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/IRSN/potomax</span></code></pre></div>
<p>This will create a <code>potomax</code> sub-directory of the current directory, i.e. the directory from which the git command was issued.</p>
</div>
<div class="section level3">
<h3 id="installation-on-unix-and-macos-systems">Installation on Unix and MacOs systems<a class="anchor" aria-label="anchor" href="#installation-on-unix-and-macos-systems"></a>
</h3>
<p>With these systems you can install a package from its source. Move to the parent directory of your cloned repository and use the following command from a terminal to create a tarball source file</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD build potomax</span></code></pre></div>
<p>This will produce a source tarball <code>potomax_x.y.z</code> where <code>x</code>, <code>y</code> and <code>z</code> stand for the major, minor and patch version numbers. Then you can install from a command line</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD INSTALL potomax_x.y.z</span></code></pre></div>
<p>Note that you must also have all the packages required by <strong>potomax</strong> installed.</p>
<p>If you are using the <strong>RStudio</strong> IDE, you can alternatively use menus.</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/IRSN/potomax/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/IRSN/potomax/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing potomax</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Yves Deville <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-1233-488X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Yves Deville.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
